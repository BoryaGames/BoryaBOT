<html>
<head>
<style>
body {
background-color: #2f3136;
color: white;
}
.btn {
background-color: blue;
color: white;
border: 0px solid black;
border-radius: 4px;
}
</style>
<script>
var q1, q2, q3;
function start() {
q1 = location.search.substring(1);
q2 = q1.split('&');
q3 = new Array();
for (var q4 in q2) {
var q5 = q2[q4].split('=');
q3[q5[0]] = q5[1];
}
if (!q3['token']) {
document.querySelector('#status').innerHTML = "Ошибка! Не удалось найти \"token\"!";
} else {
if (!q3['type']) {
document.querySelector('#status').innerHTML = "Ошибка! Не удалось найти \"type\"!";
} else {
auth();
}
}
}
window.onload = start;
function auth() {
var xhr = new XMLHttpRequest();
xhr.open("GET","https://discord.com/api/users/@me/guilds");
xhr.setRequestHeader("Authorization",q3['type'] + " " + q3['token']);
xhr.send();
setInterval(function(){
if (xhr.response !== "") {
var gls = JSON.parse(xhr.response);
document.querySelector('#status').innerHTML = "";
for (var key in gls) {
document.querySelector('#status').innerHTML += gls[key].name;
}
} else {}
},1);
}
</script>
</head>
<body>
<center><h2 id="title"><font color="red">A</font><font color="orange">u</font><font color="yellow">t</font><font color="lime">h</font></h2><br/><br/><p id="status">Аунтефикация...</p></center>
</body>
</html>
